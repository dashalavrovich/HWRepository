<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scales</title>
  </head>
  <body>
    <h1>Scales (Constructor functions)</h1>
    <script>
      const Scales = function () {
        this.products = [];
      };

      Scales.prototype.add = function (product) {
        this.products.push(product);
      };

      Scales.prototype.getSumScale = function () {
        let totalWeight = 0;
        for (let prodElem of this.products) {
          totalWeight += prodElem.getScale();
        }
        return totalWeight;
      };

      Scales.prototype.getNameList = function () {
        let prodList = [];
        for (let prodElem of this.products) {
          prodList.push(prodElem.getName());
        }
        return prodList;
      };

      const Product = function (name, weight) {
        this.name = name;
        this.weight = weight;
      };

      Product.prototype.getName = function () {
        return this.name;
      };

      Product.prototype.getScale = function () {
        return this.weight;
      };

      const Apple = function (name, weight) {
        Product.call(this, name, weight);
      };

      Apple.prototype = Object.create(Product.prototype);

      const Tomato = function (name, weight) {
        Product.call(this, name, weight);
      };

      Tomato.prototype = Object.create(Product.prototype);

      // объект класса Весы
      const scale1 = new Scales();

      // объекты класса Apple
      const apple1 = new Apple("Гала", 125);
      const apple2 = new Apple("Белый налив", 135);

      // объекты класса Tomato
      const tomato1 = new Tomato("Черри", 20);
      const tomato2 = new Tomato("Бычье сердце", 300);

      scale1.add(apple1);
      scale1.add(apple2);
      scale1.add(tomato1);
      scale1.add(tomato2);

      console.log(scale1.getSumScale());
      console.log(scale1.getNameList());
    </script>
  </body>
</html>
